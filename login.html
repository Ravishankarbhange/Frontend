<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<style type="text/css">
.card {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
  max-width: 270px;
  margin: auto;
  text-align: left;
  margin-top: 120px;
  padding:45px;
}
.cr{
	border-radius: 10px;
	height:20px;
	width: 100%;
}
.bb{
	height: 35px;
	width: 100%;
	border-radius: 58px;
	background-color: #9fd6a7;
	font-size: 20px;
}
</style>
<body>
<center>
	<div class="card">
		<h3 style="text-align: center;font-size: 30px;">LOGIN</h3>
		<label style="font-size: 20px;">Email</label><br>
		<input class="cr" type="text" name="email"><br><br>
		<label style="font-size: 20px;">Password</label><br>
		<input class="cr" type="password" name="password"><br>
		<a href="register.html"><p style="text-align: right;">Forgot Password?</p></a><br>
		<center><button class="bb" type="submit"  onclick="login()">login</button><br><br>
		<a href="register.html">Sign up</a></center>
	</div>
</center>


<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        login = async function () {
        	let data = {
                "emailId": document.getElementsByName('email')[0].value,
                "password": document.getElementsByName('password')[0].value
            }
            console.log(data)
            const response = await axios.post('http://localhost:8080/login/user/login', data);
            console.log(response);
            if (response.status == 200) {
                if (response.data.userId) {
                    if (response.data.userType == "user") {
                        window.location.href = "dashboard.html"
                    } else if (response.data.userType == "admin") {
                        window.location.href = "adminDashboard.html"
                    }
                } 
            } 
        }
    </script>


</body>
</html>